1.onlineshop仓库的redis和elasticsearch镜像更新 （已执行）
  镜像已更新到harboruat.whchem.com的harbor上，该harbor创建了同步到生产环境harbor的同步规则，
  登录该uat的harbor执行同步规则将镜像同步到生产环境，完成之后停止同步规则

2.升级数据库表
  执行db-upgrade-v1.0.2.sql的变更语句

3. 前后端，oam增加健康检查
   分别将这三个项目下的image-build目录下的*-deployment-prd.yaml文件，oam有两个，总共四个文件拷贝到上层master节点上,
   用以下命令更新deployment yaml文件
   kubectl delete -f webapi-deployment-prd.yaml
   kubectl delete -f webpage-deployment-prd.yaml
   kubectl delete -f oamapi-deployment-prd.yaml
   kubectl delete -f oamtask-deployment-prd.yaml

   kubectl create -f webapi-deployment-prd.yaml
   kubectl create -f webpage-deployment-prd.yaml
   kubectl create -f oamapi-deployment-prd.yaml
   kubectl create -f oamtask-deployment-prd.yaml
  
4. cluster-controller 重新跑流水线更新

5. 在上层集群所有cluster 结构体需要更新，结构体变更为
    domain:
      address:
      - domain: whchem.com
        name: threeLevel
      - domain: {xxx.whchem.com}
        name: fourLevel
      port:
      - external: false
        port: 80
        protocol: http
      - external: true
        port: 9000
        protocol: http
      - external: true
        port: 9001
        protocol: https

     {xxx.whchem.com} 根据不同集群会有不同配置

    在下层集群更新clusterbase 结构体，结构体变更为
    domain:
      address:
      - domain: whchem.com
        name: threeLevel
      - domain: {xxx.whchem.com}
        name: fourLevel
      port:
      - external: false
        port: 80
        protocol: http
      - external: true
        port: 9000
        protocol: http
      - external: true
        port: 9001
        protocol: https

    {xxx.whchem.com} 根据不同集群会有不同配置

6.升级云平台
  流水线构建云平台前端mars-ui和后台k8s-mars,以及oam系统

7.ingress升级
  将ingress.sh脚本拷贝到所有下层业务集群的master节点上执行

